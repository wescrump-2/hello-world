import './style.css'
import { setupButtons, setupCounter } from './counter.ts'
import cardsImage from '/cards.svg'
import buttonsImage from '/buttons.svg'
import { Game } from './game.ts'

document.querySelector<HTMLDivElement>('#app')!.innerHTML = `
  <div>
    <object id="cards-svg" width="0" height="0" data="${cardsImage}" type="image/svg+xml"></object>
    <object id="buttons-svg" width="0" height="0" data="${buttonsImage}" type="image/svg+xml"></object> 
    <div class="card">
    <button id="counter" type="button"></button>
    <button id="card-burn" type="button" class="btn" title="Discard Player Hands"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.215 0 0 1.215 -55.044 -79.095)" stroke-width=".82304"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m280.69 64.92c-5.164-0.024-11.614 1.387-18.687 6.205-55.605 39.039-112.17 76.494-169.58 112.83-10.2 6.621-9.75 16.6 1.017 22.27l128.75 67.761c5.384 2.835 22.414 2.056 32.614-4.564l169.83-110.23c10.199-6.622 9.75-16.598-1.014-22.268-44.669-23.51-85.78-45.116-130.58-68.865 0 0-4.803-3.099-12.352-3.133zm6.416 27.547-13.504 69.37 113.61-14.685-2.84 15.22-113.77 14.878-13.672 70.232-25.643 3.53 13.838-70.43-117.03 15.305 3.205-15.655 116.86-15.105 13.668-69.565zm41.246 146.32-65.74 42.674c-14.563 9.45-37.135 10.479-52.5 2.389l-34.825-18.324-87.236 41.375c-10.983 5.203-10.69 12.999 0.66 17.354l121.24 46.617v6e-3c11.35 4.368 29.494 3.66 40.477-1.535l166.99-79.196c10.985-5.194 10.68-12.996-0.664-17.353l-88.405-34.008zm93.614 65.094-165.39 78.44c-14.544 6.88-36.751 7.734-51.775 1.958l-120.99-46.523c-6.4 4.962-4.722 11.122 4.902 14.812l121.24 46.625h2e-3c11.349 4.363 29.494 3.663 40.477-1.533l166.99-79.193c8.922-4.218 10.398-10.162 4.543-14.586zm0 28.318-165.39 78.44c-14.544 6.874-36.751 7.729-51.775 1.959l-120.99-46.524c-6.4 4.963-4.722 11.125 4.902 14.815l121.24 46.625h2e-3c11.349 4.362 29.494 3.66 40.477-1.534l166.99-79.2c8.922-4.22 10.398-10.165 4.543-14.58zm-2e-3 28.32-165.39 78.434c-14.544 6.88-36.75 7.735-51.773 1.959l-120.99-46.516c-6.4 4.96-4.721 11.119 4.902 14.809l121.24 46.623v-2e-3c11.35 4.37 29.494 3.663 40.477-1.533l166.99-79.193c8.922-4.22 10.396-10.164 4.54-14.58zm-3.871 30.153-161.52 76.6c-14.544 6.88-36.75 7.737-51.773 1.96l-116.88-44.943c-10.853 5.201-10.52 12.949 0.789 17.289l121.24 46.62h2e-3c11.35 4.366 29.492 3.66 40.475-1.534l167-79.193c10.534-4.98 10.684-12.363 0.67-16.8z" fill="#fff" stroke-width=".82304"/></g></svg></button>
      <button id="card-discard" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="icon-bg"><polygon transform="translate(-25.6 -25.6) scale(1.1) rotate(0 256 256)" points="492.51 353.97 353.97 492.51 158.03 492.51 19.49 353.97 19.49 158.03 158.03 19.49 353.97 19.49 492.51 158.03" fill="#9013fe"/></clipPath></defs><g class="" transform="matrix(1.1174 0 0 1.1174 -50.613 -30.063)" stroke-width=".89491"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m150.79 479.8-85.27-185.08c-3.13-6.79-0.15-14.862 6.634-17.993l129.16-59.51c6.783-3.12 14.862-0.15 17.987 6.646l85.283 185.07c3.13 6.802 0.15 14.863-6.646 18l-129.15 59.503c-6.795 3.144-14.868 0.15-18-6.633zm26.17-69.31 15.318-44.522 44.522 15.32 7.66-22.253-44.523-15.318 15.325-44.522-22.252-7.66-15.325 44.516-44.515-15.324-7.66 22.258 44.516 15.324-15.324 44.522zm106.07-211.05c47.9-85.625-53.11-105.3-102.59-62.593l-38.9 51.353c-35.594 21.803-43.691-12.217-32.318-29.773l54.106-73.515 97.158-52.146c7.108-5.2 17.838-8.133 32.767-8.445l194.47 1.463 0.866 112.04-107.3-7.725c1.818 43.394-42.734 53.08-66.683 106.9l-13.813 46.38c-30.217-10.16-41.29-34.367-17.76-83.95zm-129.83-3.077 39.046-51.33c12.434-10.477 29.51-17.675 46.92-17.375-15.264 16.008-20.158 25.557-23.475 39.046-8 19.775-17.74 29.69-30.366 23.296-10.712 10.322-21.412 14.87-32.125 6.364z" clip-path="url(#icon-bg)" fill="#fff" stroke-width=".80086"/></g></svg></button>
      <button id="card-draw" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.1013 0 0 1.1013 -25.939 -25.939)" stroke-width=".908"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m209.96 488.2-121.24-46.62c-11.308-4.34-11.643-12.087-0.79-17.288l116.88 44.942c15.024 5.777 37.23 4.92 51.774-1.96l161.52-76.6c10.014 4.436 9.864 11.818-0.67 16.798l-167 79.194c-10.983 5.195-29.128 5.902-40.477 1.534zm0-32.37-121.24-46.622c-9.623-3.69-11.303-9.85-4.903-14.81l120.99 46.517c15.024 5.776 37.23 4.92 51.774-1.96l165.39-78.433c5.855 4.417 4.38 10.36-4.542 14.58l-166.99 79.193c-10.983 5.196-29.128 5.903-40.477 1.534zm0-28.314-121.24-46.626c-9.624-3.69-11.302-9.85-4.902-14.813l120.99 46.523c15.024 5.77 37.23 4.914 51.774-1.96l165.39-78.438c5.855 4.416 4.38 10.36-4.542 14.58l-166.99 79.2c-10.983 5.194-29.128 5.895-40.477 1.533zm0-28.32-121.24-46.626c-9.624-3.69-11.302-9.85-4.902-14.812l120.99 46.524c15.024 5.776 37.23 4.92 51.774-1.96l165.39-78.44c5.855 4.424 4.38 10.368-4.542 14.586l-166.99 79.194c-10.983 5.196-29.128 5.897-40.477 1.534zm0-28.32-121.24-46.618c-11.35-4.355-11.643-12.15-0.66-17.353l87.236-41.376 34.826 18.323c15.365 8.09 37.937 7.06 52.5-2.39l65.74-42.672 88.404 34.007c11.344 4.357 11.65 12.16 0.665 17.354l-166.99 79.195c-10.983 5.195-29.128 5.902-40.477 1.534zm6.85-99.73-123.36-64.928c-10.767-5.67-11.217-15.647-1.018-22.268l105.11-68.228h25.845l0.015 64.962h58.664v-64.962h50.144l-27.487-41.39 118.91 62.584c10.763 5.67 11.212 15.646 1.013 22.268l-169.83 110.23c-10.2 6.62-27.23 7.4-37.997 1.73zm21.637-105.52v-64.955h-34.845l49.13-79.74 49.12 79.74h-34.847v64.955z" fill="#fff" stroke-width=".82446"/></g></svg></button>
      <button id="card-exchange" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.2384 0 0 1.2384 -61.032 -61.032)" stroke-width=".80749"><path transform="matrix(.8 0 0 .8 51.2 51.2)" d="m258.15 20.822c-1.112 8e-3 -2.226 0.026-3.343 0.055-39.32 1.041-81.507 15.972-123.78 50.404l-6.028 4.91-5.732-5.25c-12.644-11.578-20.276-27.633-25.653-43.716-8.974 36.98-14.631 81.385-9.232 114.52 18.065 0.908 45.409-2.177 73.7-7.818 17.858-3.561 36.048-8.126 53.064-13.072-13.419-2.911-25.896-6.882-38.143-12.082l-16.088-6.832 14.906-9.127c46.367-28.393 80.964-40.686 120.24-35.553 33.105 4.327 69.357 20.867 119.07 47.271-25.373-36.314-62.243-64.737-104.73-76.994-15.402-4.443-31.553-6.828-48.239-6.719zm87.852 95.178c-46.667 0-46.666 0-46.666 46.666v186.73c0 9.596 7e-3 17.19 0.414 23.242a664.8 664.8 0 0 1 50.656-12.223c24.649-4.915 48.367-8.224 67.916-8.41 6.517-0.062 12.571 0.224 18.041 0.912l6.31 0.793 1.358 6.213c2.464 11.265 3.673 23.447 3.914 36.059 38.032-0.19 38.057-3.06 38.057-46.65v-186.67c0-46.665 0-46.665-46.666-46.665a226.98 226.98 0 0 1 3.978 7.64l12.624 25.536-25.004-13.648c-13.085-7.143-25.164-13.632-36.452-19.528zm-281.94 0.016c-38.032 0.19-38.057 3.06-38.057 46.65v186.73c0 46.6 0 46.6 46.666 46.6a226.98 226.98 0 0 1-3.978-7.64l-12.624-25.536 25.004 13.649c13.085 7.142 25.164 13.632 36.452 19.527h48.48c46.667 0 46.666 0 46.666-46.666v-186.67c0-9.626-6e-3 -17.24-0.416-23.304a664.81 664.81 0 0 1-50.654 12.22c-32.865 6.554-64.077 10.25-85.957 7.498l-6.31-0.793-1.358-6.213c-2.464-11.265-3.673-23.446-3.914-36.058zm354.62 254.08c-17.543 0.25-40.826 3.206-64.75 7.977-17.859 3.56-36.05 8.125-53.065 13.072 13.419 2.91 25.896 6.881 38.143 12.082l16.088 6.832-14.906 9.127c-46.367 28.392-80.964 40.685-120.24 35.553-33.105-4.327-69.357-20.868-119.07-47.272 25.373 36.315 62.243 64.738 104.73 76.994 52.573 15.166 113.87 6.343 175.37-43.74l6.028-4.91 5.732 5.25c12.644 11.579 20.276 27.633 25.653 43.717 8.974-36.981 14.631-81.386 9.232-114.52-2.788-0.14-5.748-0.204-8.95-0.158z" fill="#fff" stroke-width=".65204"/></g></svg></button>
      <button id="card-pick" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.2263 0 0 1.2263 -57.938 -57.938)" stroke-width=".81545"><path transform="matrix(.8 0 0 .8 51.2 51.2)" d="m331.09 488.95-101.23-47.053c-6.698-3.122-9.62-11.094-6.503-17.815l71.63-154.11c3.117-6.71 11.1-9.624 17.804-6.508l101.23 47.066c6.71 3.115 9.62 11.088 6.51 17.797l-71.64 154.11c-3.12 6.714-11.098 9.618-17.802 6.514zm-244.29-16.816-67.204-156.09c-2.927-6.797 0.218-14.686 7.004-17.607l33.275-14.328 41.578 156.25c3.99 14.937 19.32 23.84 34.267 19.864l33.14-8.823-64.445 27.752c-6.798 2.92-14.687-0.22-17.614-7.017zm28.774-35.535-43.704-164.24c-1.905-7.152 2.362-14.498 9.502-16.398l28.89-7.683-3.475 25.864c-2.06 15.313 8.68 29.423 24.01 31.488l67.774 9.135-27.586 92.934c-2.845 9.578-0.313 19.486 5.83 26.472l-44.847 11.926c-7.146 1.906-14.493-2.35-16.393-9.5zm92.055-4.043-13.603-4.042c-7.1-2.112-11.14-9.565-9.034-16.664l48.364-162.92c2.112-7.1 9.577-11.14 16.658-9.04l41.667 12.38 6e-3 -6e-3 0.112 0.035-0.118-0.03c-4.19 2.76-7.677 6.68-9.937 11.547l-71.644 154.13c-2.194 4.733-2.96 9.772-2.47 14.61zm-4.846-131.96-70.033-9.44c-7.328-0.992-12.48-7.743-11.494-15.078l22.695-168.43c0.987-7.33 7.75-12.48 15.06-11.496l110.65 14.912c7.322 0.99 12.48 7.748 11.488 15.07l-13.96 103.62-13.02-3.866c-14.828-4.408-30.412 4.066-34.808 18.878l-16.576 55.828zm253.32-8.668-7.253-15.94 37.418-16.98 7.23 15.95-37.394 16.97zm-9.353-27.805-32.792-72.222c11.484-2.738 22.354-7.624 32.026-14.41l32.726 72.133-31.96 14.5zm-83.41-88.155c-41.006-16.174-61.152-62.585-44.977-103.6 16.18-40.993 62.603-61.15 103.6-44.977 41.01 16.18 61.15 62.604 44.982 103.62-16.187 40.995-62.604 61.147-103.61 44.96zm86.378-51.78c12.434-31.488-3.038-67.135-34.55-79.563-31.493-12.427-67.14 3.045-79.58 34.544-12.427 31.5 3.05 67.16 34.557 79.58 31.5 12.43 67.146-3.043 79.574-34.56zm-30.106-16.96c1.96-22.547-12.634-42.758-33.676-48.653 3.86-0.732 7.9-0.956 12.014-0.602 24.27 2.1 42.292 23.492 40.197 47.768-2.078 23.94-22.914 41.79-46.766 40.274 15.366-6.48 26.702-21.03 28.23-38.787z" fill="#fff" stroke-width=".66496"/></g></svg></button>
      <button id="card-pickup" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="icon-bg"><polygon transform="translate(-25.6 -25.6) scale(1.1) rotate(0 256 256)" points="492.51 353.97 353.97 492.51 158.03 492.51 19.49 353.97 19.49 158.03 158.03 19.49 353.97 19.49 492.51 158.03" fill="#9013fe"/></clipPath></defs><g class="" transform="matrix(1.1174 0 0 1.1174 -30.063 -30.063)" stroke-width=".89491"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m272.82 24.318c-14.929 0.312-25.66 3.246-32.767 8.446l-97.158 52.146-54.106 73.514c-11.373 17.556-3.275 51.576 32.319 29.773l38.9-51.351c49.476-42.711 150.48-23.032 102.59 62.591-23.53 49.582-12.457 73.79 17.76 83.95l13.812-46.381c23.95-53.825 68.502-63.51 66.684-106.9l107.3 7.725-0.866-112.04zm-54.09 103.34c-17.41-0.3-34.485 6.898-46.92 17.375l-39.044 51.33c10.713 8.506 21.413 3.959 32.125-6.363 12.626 6.394 22.365-3.522 30.365-23.297 3.317-13.489 8.21-23.037 23.475-39.045zm-32.617 88.324a13.49 13.49 0 0 0-5.232 1.235l-129.16 59.51c-6.784 3.13-9.763 11.202-6.633 17.992l85.27 185.08c3.132 6.783 11.205 9.779 18 6.635l129.15-59.504c6.796-3.137 9.777-11.198 6.647-18l-85.285-185.07c-2.343-5.097-7.473-8.043-12.754-7.88zm-29.767 50.06c7.794 0.113 14.913 2.053 21.092 5.847 10.758 6.604 18.63 20.93 19.644 35.754 0.698 10.184-1.712 17.837-12.553 39.873-3.879 7.885-5.634 15.27-5.072 21.355 0.46 4.973 0.786 5.855 3.639 9.844l3.135 4.38-1.754 0.98c-0.965 0.538-7.097 3.1-13.627 5.693-6.918 2.746-12.316 4.496-12.934 4.193-0.583-0.286-2.352-2.62-3.931-5.188-7.525-12.227-7.225-27.53 0.878-44.627 6.655-14.04 8.47-19.966 7.952-25.974-0.815-9.44-6.743-16.478-14.834-17.617-6.021-0.848-10.668 0.553-18.912 5.703-8.298 5.183-13.941 10.708-19.055 18.656-1.8 2.797-3.407 5.053-3.57 5.014-0.164-0.04-3.206-7.256-6.758-16.037l-6.46-15.967 3.23-3.666c5.809-6.598 11.758-11.166 22.226-17.065 13.44-7.573 26.273-11.314 37.664-11.15zm33.308 133.05c6.463 0.125 12.18 3.215 15.7 8.963 4.296 7.015 4.185 13.838-0.334 20.752-2.89 4.42-8.953 8.313-15.04 9.654-15.132 3.335-28.038-9.343-23.726-23.307 1.817-5.885 5.325-9.937 11.273-13.02 4.104-2.125 8.25-3.117 12.127-3.042z" clip-path="url(#icon-bg)" fill="#fff" stroke-width=".80086"/></g></svg></button>
      <button id="card-play" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="icon-bg"><polygon transform="translate(-25.6 -25.6) scale(1.1) rotate(0 256 256)" points="492.51 353.97 353.97 492.51 158.03 492.51 19.49 353.97 19.49 158.03 158.03 19.49 353.97 19.49 492.51 158.03" fill="#9013fe"/></clipPath></defs><g class="" transform="matrix(1.1174 0 0 1.1174 -30.062 -30.063)" stroke-width=".89491"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m272.82 24.318c-14.929 0.312-25.66 3.246-32.767 8.446l-97.159 52.146-54.105 73.514c-11.373 17.556-3.276 51.576 32.318 29.773l38.9-51.351c49.476-42.711 150.48-23.032 102.59 62.591-23.53 49.582-12.457 73.79 17.76 83.95l13.812-46.381c23.949-53.825 68.502-63.51 66.684-106.9l107.3 7.724-0.865-112.04zm-54.09 103.34c-17.41-0.3-34.486 6.898-46.92 17.375l-39.044 51.33c10.713 8.506 21.413 3.96 32.125-6.363 12.626 6.394 22.365-3.522 30.365-23.297 3.317-13.489 8.21-23.037 23.474-39.045zm-32.617 88.324a13.49 13.49 0 0 0-5.232 1.235l-129.16 59.51c-6.784 3.13-9.763 11.202-6.633 17.992l85.27 185.08c3.131 6.783 11.204 9.779 18 6.635l129.15-59.504c6.796-3.137 9.776-11.198 6.646-18l-85.282-185.07c-2.344-5.097-7.474-8.043-12.754-7.88z" clip-path="url(#icon-bg)" fill="#fff" stroke-width=".80086"/></g></svg></button>
      <button id="card-random" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.0901 0 0 1.0901 -23.055 -24.12)" stroke-width=".91738"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m386.69 487.75-119.24-55.423c-7.898-3.673-11.334-13.065-7.66-20.976l84.374-181.52c3.667-7.904 13.07-11.334 20.963-7.667l119.24 55.434c7.9 3.673 11.33 13.065 7.656 20.964l-84.37 181.52c-3.678 7.904-13.076 11.334-20.968 7.667zm-287.74-19.805-79.16-183.86c-3.448-8.007 0.255-17.302 8.25-20.744l39.196-16.872 48.975 184.04c4.694 17.588 22.755 28.078 40.36 23.39l39.032-10.386-75.907 32.686c-8.007 3.443-17.296-0.255-20.744-8.262zm33.89-41.86-51.478-193.45c-2.24-8.42 2.78-17.078 11.19-19.312l34.033-9.052-4.098 30.465c-2.422 18.036 10.224 34.652 28.285 37.087l79.828 10.758-32.497 109.47c-3.345 11.28-0.37 22.948 6.866 31.18l-52.82 14.05c-8.42 2.24-17.07-2.77-19.31-11.196zm108.43-4.76-16.02-4.76c-8.36-2.49-13.12-11.267-10.644-19.627l56.97-191.9c2.484-8.36 11.28-13.12 19.622-10.65l49.073 14.583 8e-3 -5e-3 0.12 0.044-0.133-0.034c-4.93 3.254-9.04 7.868-11.705 13.605l-84.38 181.53c-2.587 5.586-3.486 11.517-2.915 17.218zm-5.707-155.43-82.486-11.117c-8.633-1.166-14.704-9.12-13.538-17.758l26.73-198.39c1.16-8.633 9.125-14.698 17.74-13.538l130.33 17.563c8.627 1.166 14.692 9.125 13.532 17.752l-16.446 122.05-15.33-4.552c-17.467-5.197-35.826 4.784-41.004 22.232zm-5.19-31.46c4.67-3.055 7.474-7.438 8.42-13.145 0.936-5.633-0.357-10.617-3.866-14.945-3.51-4.414-8.39-7.14-14.656-8.178-6.344-1.057-11.93-0.073-16.75 2.956-4.826 3.03-7.692 7.316-8.615 12.87-0.898 5.386 0.425 10.42 3.97 15.082 3.565 4.504 8.525 7.285 14.863 8.34 6.35 1.057 11.893 0.062 16.634-2.98zm25.978-81.243c4.693-2.726 8.888-5.434 12.598-8.117 3.703-2.684 6.915-5.586 9.635-8.725 2.72-3.13 4.967-6.573 6.733-10.307 1.76-3.74 3.048-8.032 3.85-12.865 1.262-7.62 1.02-14.358-0.735-20.234-1.75-5.87-4.693-10.94-8.833-15.22-4.135-4.27-9.24-7.753-15.318-10.43-6.07-2.684-12.804-4.633-20.174-5.86-7.692-1.28-15.3-1.602-22.815-0.977-7.516 0.614-14.63 2.247-21.346 4.88l-5.95 35.802c6.813-4.25 13.77-7.104 20.855-8.567 7.09-1.475 13.726-1.7 19.913-0.668 21.467 4.092 19.44 24.898 8.76 34.03-5.652 4.473-11.334 8.802-15.942 11.345-10.48 5.914-27.69 23.125-22.542 45.145l31.284 5.202c-7.11-17.757 11.663-29.462 20.028-34.434z" fill="#fff" stroke-width=".84159"/></g></svg></button>
      <button id="cog" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="icon-bg"><polygon transform="translate(-25.6 -25.6) scale(1.1) rotate(0 256 256)" points="492.51 353.97 353.97 492.51 158.03 492.51 19.49 353.97 19.49 158.03 158.03 19.49 353.97 19.49 492.51 158.03" fill="#9013fe"/></clipPath></defs><g class="" transform="matrix(1.081 0 0 1.081 -21.304 -22.943)" stroke-width=".92511"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m234.88 18.78c-26.087 2.367-51.557 8.56-74.875 18.782 15.37 32.763 14.222 66.706-6.72 82.407-20.835 15.617-54.055 7.965-81.124-15.69-16.246 19.452-29.336 41.36-38.875 65.626 33.83 12.333 56.635 37.665 52.94 63.5-3.698 25.835-32.697 43.74-68.626 46.094 2.338 25.796 8.91 50.778 18.937 73.875 17.81-8.182 35.793-11.09 51.095-8.938 13.032 1.87 23.927 7.015 31.156 16.657 15.817 21.097 7.603 54.713-16.78 81.97 19.516 16.35 42.216 29.444 66.594 39.03 12.33-33.828 37.655-56.634 63.5-52.938 25.844 3.697 43.74 32.696 46.094 68.625 26.087-2.365 51.557-8.555 74.875-18.78-15.766-32.997-14.26-67.588 6.843-83.406 9.64-7.23 22.568-9.022 35.594-7.125 15.112 2.16 31.19 10.25 45.563 22.78 16.088-19.345 29.4-41.51 38.875-65.594-33.83-12.332-56.635-37.653-52.938-63.5 3.697-25.846 32.665-43.772 68.594-46.125-2.36-25.944-8.774-50.663-18.906-73.874-32.612 15.117-66.66 13.145-82.282-7.687-15.696-20.944-7.252-53.86 16.688-81-19.52-16.352-42.248-29.447-66.625-39.032-12.332 33.828-37.657 56.66-63.5 52.968-25.846-3.693-43.744-32.696-46.095-68.625zm21.656 95.126c79.626 0 144.38 64.752 144.38 144.38 0 79.626-64.75 144.38-144.38 144.38-79.624 0-144.37-64.75-144.37-144.38 0-79.624 64.75-144.37 144.38-144.37zm0 18.688c-69.524 0-125.69 56.162-125.69 125.69 0 69.526 56.162 125.69 125.69 125.69 69.526 0 125.69-56.164 125.69-125.69 0-69.522-56.164-125.69-125.69-125.69zm0.033 15.125c61.094 0 110.62 49.53 110.62 110.62 0 61.095-49.53 110.62-110.62 110.62s-110.62-49.53-110.62-110.63c0-61.095 49.53-110.62 110.62-110.62z" clip-path="url(#icon-bg)" fill="#fff" stroke-width=".85582"/></g></svg></button>
      <button id="halt" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.1449 0 0 1.1449 -37.102 -37.103)" stroke-width=".87342"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m389.92 128.73v100.84h-22.802v-158.5a17.11 17.11 0 0 0-17.11-17.11h-11.863a17.11 17.11 0 0 0-17.11 17.11v158.5h-22.698v-182.57a17.11 17.11 0 0 0-17.11-17.11h-11.863a17.11 17.11 0 0 0-17.11 17.11v182.57h-22.751v-152.24a17.11 17.11 0 0 0-17.108-17.11h-11.864a17.11 17.11 0 0 0-17.11 17.11v263.87l-63.858-51.14a23.385 23.385 0 0 0-30.743 1.32l-5.567 5.31a23.385 23.385 0 0 0-2.01 31.678l102.19 125.65a72.028 72.028 0 0 0 57.092 28.1h60.85a134.64 134.64 0 0 0 134.63-134.62v-218.77a17.11 17.11 0 0 0-17.11-17.108h-11.864a17.11 17.11 0 0 0-17.11 17.11z" fill="#fff" stroke-width=".76285"/></g></svg></button>
      <button id="scales" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.0748 0 0 1.0748 -19.991 -26.354)" stroke-width=".93042"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m254.47 53.094s-4.808 37.12-49.5 49.5c-44.695 12.38-129.28 0-129.28 0l-14.345 13.186 8.187 9.157-1.093 2.876-51.843 137.31-0.594 1.595v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.563 14.31 42.937 14.313 15.376 3e-3 30.878-4.556 42.97-14.313 12.092-9.756 20.344-25.094 20.344-44v-1.843l-0.688-1.688-54.937-134.63c23.946-3.003 80.866-8.54 115.5 1.532 23.064 6.71 36.151 20.345 43.436 31.97l-35.126 190.69 21.407 30.31c-17.75 7.75-32.593 24.84-37.562 51.345-56.076 6.195-95.47 20.74-95.47 37.688h311.88c0-16.947-39.392-31.493-95.467-37.688-4.91-26.6-19.57-44.112-37.188-51.906l21-29.75-35.376-192.19c7.457-11.275 20.388-24.045 42.47-30.468 34.955-10.167 92.615-4.42 116.16-1.437l-50.875 134.75-0.625 1.594v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.593 14.31 42.967 14.313 15.375 3e-3 30.877-4.556 42.97-14.313 12.09-9.756 20.343-25.094 20.343-44v-1.843l-0.688-1.688-56.061-137.34-0.938-2.28 8.782-8.438-15.594-14.25s-84.556 12.38-129.25 0-49.53-49.5-49.53-49.5zm-176.94 103.56 44.22 108.38h-85.156l40.936-108.37zm355.16 0 44.218 108.38h-85.186l40.967-108.37z" fill="#fff" stroke-width=".86568"/></g></svg></button>
      <button id="scales-exclaim" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.0748 0 0 1.0748 -19.991 -26.36)" stroke-width=".90861"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="m254.47 53.094s-4.808 37.12-49.5 49.5c-44.695 12.38-129.28 0-129.28 0l-14.345 13.186 8.187 9.157-1.093 2.876-51.843 137.31-0.594 1.595v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.563 14.31 42.937 14.313 15.376 3e-3 30.878-4.556 42.97-14.313 12.092-9.756 20.344-25.094 20.344-44v-1.843l-0.688-1.688-54.937-134.63c23.946-3.003 80.866-8.54 115.5 1.532 23.064 6.71 36.151 20.345 43.436 31.97l-35.126 190.69 21.407 30.31c-17.75 7.75-32.593 24.84-37.562 51.345-56.076 6.195-95.47 20.74-95.47 37.688h311.88c0-16.947-39.392-31.493-95.467-37.688-4.91-26.6-19.57-44.112-37.188-51.906l21-29.75-35.376-192.19c7.457-11.275 20.388-24.045 42.47-30.468 34.955-10.167 92.615-4.42 116.16-1.437l-50.875 134.75-0.625 1.594v1.717c0 18.897 8.253 34.243 20.344 44 12.09 9.758 27.593 14.31 42.967 14.313 15.375 3e-3 30.877-4.556 42.97-14.313 12.09-9.756 20.343-25.094 20.343-44v-1.843l-0.688-1.688-56.061-137.34-0.938-2.28 8.782-8.438-15.594-14.25s-84.556 12.38-129.25 0-49.53-49.5-49.53-49.5zm-176.94 103.56 44.22 108.38h-85.156l40.936-108.37zm355.16 0 44.218 108.38h-85.186l40.967-108.37z" fill="#fff" stroke-width=".93041"/></g><g class="" transform="matrix(1.024 0 0 1.024 308.73 295.14)" stroke-width=".97657"><g transform="matrix(.7 0 0 .7 9.6 9.6)"><circle cx="128" cy="128" r="128" display="none" fill="#fff" stroke-width=".97657"/><circle cx="128" cy="128" r="101" fill="#fff" stroke="#ff4a00" stroke-width="17.578"/><path d="m111.1 58.03h33.8v53.67l-4.8 39.2h-24.2l-4.8-39.2zm0 106.57h33.8v33.4h-33.8z" fill="#ff4a00" stroke-width=".97657"/></g></g></svg></button>
      <button id="sprint" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.4092 0 0 1.4029 -106.56 -100.79)" stroke-width=".71121"><path transform="matrix(.7 0 0 .7 76.8 76.8)" d="m169.53 16.344 89.815 71.656 77.655 4.28-1.03 18.657-161.38-8.906-118.78-4.905 227.28 68.03-197.72 246.75-14.53-17.655-49.22 96.625 248.69-202.78 51.81 11.592-38.78 40.594-12.844-10.782-57.28 84.125 231.62-140.16-116.84-32.41 100.22-81.718c1.132 0.46 2.3 0.898 3.5 1.22 23.324 6.248 49.764-16.835 59.06-51.533 9.298-34.695-2.08-67.874-25.405-74.124s-49.765 16.802-59.063 51.5c-1.467 5.476-2.403 10.918-2.875 16.22l-233.91-86.282z" fill="#fff" stroke-width=".60834"/></g></svg></button>
      <button id="stack" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.1058 0 0 1.1058 -27.086 -27.086)" stroke-width=".90432"><path transform="matrix(.9 0 0 .9 25.6 25.6)" d="M 256,18.365 50.14,136 256,253.635 461.86,136 Z m -154,168 L 50.14,216 256,333.635 461.86,216 410,186.365 l -154,88 z m 0,80 L 50.14,296 256,413.635 461.86,296 410,266.365 l -154,88 z m 0,80 L 50.14,376 256,493.635 461.86,376 410,346.365 l -154,88 z" fill="#fff" stroke-width=".81779"/></g></svg></button>
      <button id="joker" type="button" class="btn"><svg style="height:2rem;width:2rem" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g class="" transform="matrix(1.513,0,0,1.513,-132.48,-131.33)" stroke-width=".66094"><path transform="matrix(.7 0 0 .7 76.8 76.8)" d="m119.44 36c-16.13 0-29.204 17.237-29.204 38.5v363c0 21.26 13.074 38.5 29.204 38.5h275.29c16.13 0 29.2-17.24 29.2-38.5v-363c0-21.263-13.07-38.5-29.2-38.5zm26.37 10.951 11 32.856 34.65 0.312-27.85 20.621 10.41 33.05-28.21-20.12-28.22 20.11 10.41-33.04-27.85-20.62 34.65-0.312zm218.17 114.89c7.13 9.46 12.74 20.69 16.83 32.04 3.8 10.54 6.2 21.21 6.67 31.02-0.16 19.02-3.92 23.27-14.56 36.93l-6.7-11.48c-10.85-13.1-30.78-48.4-47.38-43.67-6.53 6.11-9 13.37-10.32 20.8 2.9 8.8 4.48 18.43 4.48 28.52 0 15.29-3.62 29.54-10 41.42 22.65 4.53 57.93 19.33 57.98 39.22-0.27 3.78-1.84 7.68-4.36 10.42-10.75 12.53-36.96 4.12-45.2 10.07 0.79 6.95 4.11 14.12 4.35 20.18 0.14 4.36-1.77 10.57-6.51 13.99-5.67 4.09-12.97 4.55-18.52 3.05-10.8-2.12-18.74-14.7-34.74-17.35-13.54 3.49-22.41 13.87-34.74 17.35-5.55 1.5-12.85 1.04-18.52-3.05-4.74-3.42-6.65-9.64-6.51-13.99-0.1-7.15 4.11-13.8 4.36-20.18-15.75-7.79-33.82 1.97-45.21-10.07-2.52-2.74-4.09-6.64-4.36-10.42 6.15-27.34 35.38-34.68 57.98-39.22-6.38-11.88-10-26.13-10-41.42 0-11.49 2.05-22.38 5.76-32.13-2.35-7.93-3.44-15.99-9.43-22.45-8.76-0.92-14.08 6.9-17.85 12.63-11.68 19.5-18.71 30.61-32.88 46.2-16.6-23.4-19.31-49.29-13.15-70.99 6.06-20.33 19.17-38.8 37.92-47.93 21.22-9.76 39.88-10.03 58.89 0.21 5.16-13.06 10.4-25.65 18.03-36.21 9.63-13.312 23.8-25.633 43.71-25.297 38.8 0.656 73.99 51.157 73.98 81.807zm-72.22-63.893c-35.76 2.413-44.77 44.743-55.19 71.293l-9.45-7.09c-18.42-12.31-31.07-13.73-49.87-4.63-12.93 6.29-23.7 20.62-28.55 36.88-3.38 11.33-3.77 23.23-0.95 33.65 9.45-13.55 15.8-30.08 28.31-39.18 7.49-7.98 26.27-8.5 35.45 3.9 4.84 7.02 7.44 14.54 9.5 22.23h72.17c0.59-1.94 1.07-3.76 2.02-6.03 2.95-7.07 7.76-16.27 18.39-19.51 18.09-3.86 32.49 7.11 43.5 18.52 4.52 4.71 8.49 9.69 12.1 14.51-0.69-6.79-2.48-14.65-5.31-22.5-13.13-36.71-37.89-51.03-70.39-32.01 2.56-16.43 16.87-35.72 46.25-26.97-9.09-17.13-30.36-42.468-47.98-43.063zm-71.12 135.05c-2.31 6.96-3.64 14.75-3.64 23 0 15.85 4.89 30.03 12.26 39.86 7.37 9.82 16.73 15.14 26.74 15.14s19.37-5.32 26.74-15.14c7.37-9.83 12.26-24.01 12.26-39.86 0-8.25-1.33-16.04-3.64-23zm11.36 47h48s-8 14-24 14-24-14-24-14zm-11.14 33.57c-13.86 3.34-50.37 8.9-51.84 21.42 9.62 1.94 20.44 0.83 29 2.23 5.99 1.02 12.82 3.32 17.28 9.52 3.38 4.68 3.58 10.1 3.04 14.21-0.54 5.89-3.32 10.56-3.98 16.32 15.96-2.59 28.27-17.53 41.64-18.27 16-0.7 29.31 17.4 41.64 18.27-0.9-5.59-3.27-11.16-3.98-16.32-0.54-4.11-0.34-9.53 3.04-14.21 4.46-6.2 11.29-8.5 17.28-9.52 9.75-2.23 19.98 0.4 29-2.23-5.77-13.13-39.81-19.46-51.84-21.42-9.47 9.44-21.69 15.43-35.14 15.43s-25.66-5.99-35.14-15.43zm117.12 64.65 28.22 20.11 28.21-20.11-10.41 33.04 27.85 20.62-34.65 0.31-11.01 32.86-11-32.86-34.65-0.31 27.85-20.62z" fill="#fff" stroke-width=".43685"/></g></svg></button>
    </div>
    <div id="buttons" class="card"></div>
    <div id="svgContainer"></div>
    <script src="cards.js"></script>
  </div>
`
window.addEventListener("load", () => {
  const svgCards = document.getElementById('cards-svg') as HTMLObjectElement
  const svgButtons = document.getElementById('buttons-svg') as HTMLObjectElement

  if (svgCards.contentDocument && svgButtons.contentDocument) {
    const game = new Game(document.getElementById('svgContainer') as HTMLDivElement)
    game.deck.setBack(4)
    game.startGame()

    game.drawInitiative()

    game.render()
    setupCounter(document.querySelector<HTMLDivElement>('#app')!)
    setupButtons(document.querySelector<HTMLDivElement>('#app')!)
  } else {
    console.error("Failed to load SVG document")
  }
});